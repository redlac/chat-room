(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,a){},126:function(e,a,n){"use strict";n.r(a);var t=n(0),c=n.n(t),r=n(6),s=n.n(r),o=(n(87),n(17)),l=n(46),i=n.n(l),m=n(166),u=n(159),g=n(164),f=n(165),d=n(171),E=n(162),h=n(38);n(31);function b(e){var a=Object(u.a)((function(a){return{nickname:{color:e.nickNameColor}}}))();return c.a.createElement(E.a,{divider:!0,ref:e.bottomMessageRef},c.a.createElement(g.a,null,c.a.createElement(d.a,{alt:"user",src:"https://www.selfstir.com/wp-content/uploads/2015/11/default-user.png"})),c.a.createElement(f.a,null,c.a.createElement(h.a,{className:a.nickname,component:"span"},e.message.name," says")," "+e.message.text))}function v(e){return console.log(e.messages),c.a.createElement(m.a,{className:"message-list"},e.messages.length>0?e.messages.map((function(a,n){return c.a.createElement(b,{key:n,bottomMessageRef:e.bottomMessageRef,message:a,nickNameColor:a.name===e.nickname?e.nickNameColor:"orange"})})):c.a.createElement(h.a,{color:"secondary",variant:"h5",align:"center"},"No Messages to Display!"))}var k=n(167),j=n(170),p=n(168),C=n(72),O=n.n(C);function w(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:4},c.a.createElement(k.a,{item:!0,xs:6},c.a.createElement(j.a,{id:"outlined-basic",label:"Enter message here",variant:"outlined",size:"small",fullWidth:!0,onChange:function(a){return n="message",t=a,void e.handleChange(n,t);var n,t}})),c.a.createElement(k.a,{item:!0},c.a.createElement(p.a,{variant:"contained",color:"primary",endIcon:c.a.createElement(O.a,null),onClick:function(){return e.sendMessage()}},"Send"))))}function M(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:4},c.a.createElement(k.a,{container:!0,item:!0,justify:"center"},c.a.createElement(j.a,{className:"nickname-field",label:"Enter a nickname here",variant:"outlined",size:"small",onChange:function(a){return n="nickname",t=a,void e.handleChange(n,t);var n,t}})),c.a.createElement(k.a,{item:!0})))}var y=n(169);function N(e){return console.log(e.messages),c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3},c.a.createElement(k.a,{container:!0,item:!0,xs:!0},c.a.createElement("h1",null,"Amazing Real-Time Chat")),c.a.createElement(k.a,{container:!0,item:!0,xs:6},c.a.createElement(M,{handleChange:e.handleChange})),c.a.createElement(y.a,{className:"chat-divider"}),c.a.createElement(k.a,{container:!0,justify:"center"},c.a.createElement(v,{messages:e.messages,nickNameColor:e.nickNameColor,nickname:e.nickname,bottomMessageRef:e.bottomMessageRef})),c.a.createElement(k.a,{className:"message-input",container:!0,item:!0,xs:!0},c.a.createElement(w,{handleChange:e.handleChange,sendMessage:e.sendMessage}))))}var S=function(){var e=Object(t.useState)([]),a=Object(o.a)(e,2),n=a[0],r=a[1],s=Object(t.useState)(!1),l=Object(o.a)(s,2),m=(l[0],l[1]),u=Object(t.useState)(""),g=Object(o.a)(u,2),f=g[0],d=g[1],E=Object(t.useState)(""),h=Object(o.a)(E,2),b=(h[0],h[1]),v=Object(t.useState)(!1),k=Object(o.a)(v,2),j=k[0],p=k[1],C=Object(t.useState)("anonymous"),O=Object(o.a)(C,2),w=O[0],M=O[1],y=Object(t.useState)("#000000"),S=Object(o.a)(y,2),R=S[0],x=S[1],I=Object(t.useRef)(null);return Object(t.useEffect)((function(){var e=i()("/");e.on("connection",(function(e){m(!0)})),e.on("receivedMessage",(function(e){p(!1);var a=n;a.push(e),r(a),p(!0),console.log(n)})),x(function(){for(var e="#",a=0;a<6;a++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}())}),[]),Object(t.useEffect)((function(){console.log("new message"),null!=I.current&&I.current.scrollIntoView()}),[j]),c.a.createElement(c.a.Fragment,null,c.a.createElement(N,{messages:n,handleChange:function(e,a){switch(e){case"name":b(a.target.value);break;case"message":d(a.target.value);break;case"nickname":M(a.target.value)}},sendMessage:function(){console.log(w);var e={name:w,message:f};i()("/").emit("message",e)},nickNameColor:R,nickname:w,bottomMessageRef:I}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,a,n){},82:function(e,a,n){e.exports=n(126)},87:function(e,a,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.c8073d31.chunk.js.map